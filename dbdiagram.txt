Table users {
  id int [pk, increment]
  first_name varchar [not null]
  last_name varchar [not null]
  email varchar [not null, unique]
  password varchar [not null]
  email_verified_at datetime [null]
  created_at datetime
  updated_at datetime
}

Table roles {
  id int [pk, increment]
  name varchar [not null]
}

Table role_user {
  role_id int [pk, ref: > roles.id]
  user_id int [pk, ref: > users.id]
}

Table password_resets {
  email varchar
  token varchar
  created_at datetime
}



Table plateaux {
  id int [pk, increment]
  name varchar [not null]
  description text [not null]
  manager_id int [not null, ref: > users.id]
  created_at datetime
  updated_at datetime
}

Table equipments {
  id int [pk, increment]
  name varchar [not null]
  type varchar [not null]
  description text [not null]
  quantity int [not null]
  plateau_id int [not null, ref: > plateaux.id]
  created_at datetime
  updated_at datetime
}

Table manipulations {
  id int [pk, increment]
  name varchar [not null]
  description text [not null]
  plateau_id int [not null, ref: > plateaux.id]
  duration int [not null]
  max_slots int [not null]
  start_date date [not null]
  location varchar [not null]
  available_times json [not null]
}

Table manipulation_user {
  manipulation_id int [pk, ref: > manipulations.id]
  user_id int [pk, ref: > users.id]
}

Table criteria {
  id int [pk, increment]
  manipulation_id int [not null, ref: > manipulations.id]
  content text [not null]
}

Table slots {
  id int [pk, increment]
  manipulation_id int [not null, ref: > manipulations.id]
  start datetime [not null]
  end datetime [not null]
  subject_first_name varchar [null]
  subject_last_name varchar [null]
  subject_email varchar [null]
}